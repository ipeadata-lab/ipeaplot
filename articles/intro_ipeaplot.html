<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ipeaplot">
<title>Introduction to ipeaplot • ipeaplot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to ipeaplot">
<meta property="og:description" content="ipeaplot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ipeaplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro_ipeaplot.html">Introduction to ipeaplot</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ipeadata-lab/ipeaplot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to ipeaplot</h1>
            
            <h4 data-toc-skip class="date">2023-08-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ipeadata-lab/ipeaplot/blob/HEAD/vignettes/intro_ipeaplot.Rmd" class="external-link"><code>vignettes/intro_ipeaplot.Rmd</code></a></small>
      <div class="d-none name"><code>intro_ipeaplot.Rmd</code></div>
    </div>

    
    
<p><a href="https://github.com/ipeadata-lab/ipeaplot" class="external-link"><strong>ipeaplot</strong></a>
is a computational package designed to help researchers create charts
and maps following the editorial guidelines used by the Institute for
Applied Economic Research - Ipea. The package provides users with tools
and functions that simplify the process of consistently using the color
schemes and graphic styles used in Ipea’s Texto para Discussão (TD). By
using <strong>ipeaplot</strong>, users can easily achieve visually
appealing and professionally formatted studies. This vignette presents a
quick intro to <strong>ipeaplot</strong>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of ipeaplot from github:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Development version</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="st">'ipeaplot'</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ipeadata-lab/ipeaplot"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="overview-of-the-package">Overview of the package<a class="anchor" aria-label="anchor" href="#overview-of-the-package"></a>
</h2>
<p>The ipeaplot package is meant be used together with
<code>ggplot2</code>, the most popular data visualization library in R.
Currently, ipeaplot includes four main functions to help you change the
style of your figures:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/theme_ipea.html">theme_ipea()</a></code> - changes layout of figure elements (axis,
title, subtitle, fonts etc) following Ipea’s editorial guidelines;</li>
<li>
<code><a href="../reference/scale_color_ipea.html">scale_color_ipea()</a></code> - selects a color palette from a
range of options following Ipea’s editorial guidelines;</li>
<li>
<code><a href="../reference/scale_fill_ipea.html">scale_fill_ipea()</a></code>- selects a color palette from a range
of options following Ipea’s editorial guidelines;</li>
<li>
<code><a href="../reference/save_eps.html">save_eps()</a></code> - saves figures in <code>.eps</code> file
extesion to be used by Ipea’s editing team.</li>
</ol>
</div>
<div class="section level2">
<h2 id="demonstration-on-sample-data">Demonstration on sample data<a class="anchor" aria-label="anchor" href="#demonstration-on-sample-data"></a>
</h2>
<p>First, let’s load the libraries and sample data we’ll be using to
demonstrate ipeaplot in this vignette. In these first examples below,
we’ll be using the <code>mtcats</code> data set from R.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeadata-lab/ipeaplot" class="external-link">ipeaplot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://abjur.github.io/abjData/" class="external-link">abjData</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/geobr" class="external-link">geobr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load mtcars dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcats</span><span class="op">)</span></span></code></pre></div>
<p>Here is a general example of how a chart used in Ipea’s Discussion
Papers look like. In the next sections of this vignette we’ll explore
how to make changes to the plot while still abiding to Ipea’s editorial
guidelines.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fig_base</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hp</span> , y <span class="op">=</span> <span class="va">mpg</span>, color <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">'Consumo de Combustível\n(milhas por galão)'</span>,</span>
<span>                   x <span class="op">=</span><span class="st">'Potência (Número de cavalos)'</span>,</span>
<span>                   color<span class="op">=</span><span class="st">'Cilindradas'</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>              <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">fig_base</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-4-1.png" width="100%"></p>
<div class="section level3">
<h3 id="paleta-de-cores">Paleta de cores<a class="anchor" aria-label="anchor" href="#paleta-de-cores"></a>
</h3>
<p>Existem duas funções básicas para seleciona a paleta de cores da
figura: <code><a href="../reference/scale_color_ipea.html">scale_color_ipea()</a></code> e
<code><a href="../reference/scale_fill_ipea.html">scale_fill_ipea()</a></code>. O funcionamento de ambas funções seguem
a mesma lógica e parâmetros.</p>
<p>O parâmetro <code>palette</code> permite escolher uma paleta de cores
entre as opções de paletas utilizadas pelo editorial do Ipea. O padrão
da função é a paleta <code>"Blue"</code>, mas o parâmetro pode receber
diversas outras opções. Isso incluir tanto paletas
<code>c("Blue", "Green", "Orange", "Pink")</code> como paletes de cores
divergentes <code>c("Red-Blue", "Orange-Blue")</code>.</p>
<p><strong>Cores sequenciais:</strong>
<img src="intro_ipeaplot_files/figure-html/unnamed-chunk-5-1.png" width="100%"><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-5-2.png" width="100%"><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-5-3.png" width="100%"></p>
<p><strong>Cores divergentes:</strong>
<img src="intro_ipeaplot_files/figure-html/unnamed-chunk-6-1.png" width="100%"><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-6-2.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># paleta sequencial verde</span></span>
<span><span class="va">fig_base</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Green"</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># paleta divergente de laranja a azul</span></span>
<span><span class="va">fig_base</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Orange-Blue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-7-2.png" width="100%"></p>
<p>Por padrão, as funções <code><a href="../reference/scale_color_ipea.html">scale_color_ipea()</a></code> e
<code><a href="../reference/scale_fill_ipea.html">scale_fill_ipea()</a></code> geram escalas de cores para variáveis
<strong>contínuas</strong>. Para utilizar uma escala de core para
variáveis discretas, basta passar o parâmetro
<code>discrete = TRUE</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hp</span> , y <span class="op">=</span> <span class="va">mpg</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y<span class="op">=</span><span class="st">'Consumo de Combustível\n(milhas por galão)'</span>,</span>
<span>       x <span class="op">=</span><span class="st">'Potência (Número de cavalos)'</span>,</span>
<span>       color<span class="op">=</span><span class="st">'Cilindradas'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Orange"</span>, discrete <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
<p>Além de selecionar a paleta de cores, as funções
<code><a href="../reference/scale_color_ipea.html">scale_color_ipea()</a></code> e <code><a href="../reference/scale_fill_ipea.html">scale_fill_ipea()</a></code> trazem
ainda outros parâmetros que permitem escolher o separador de casa
decimal (ponto ou vírgula), ajustar o tamanho da legenda etc. A lista
completa de parâmetros está disponível na documentação da função
<code>?scale_color_ipea()</code>.</p>
</div>
<div class="section level3">
<h3 id="ajustando-o-theme-das-figuras">Ajustando o <code>theme</code> das figuras<a class="anchor" aria-label="anchor" href="#ajustando-o-theme-das-figuras"></a>
</h3>
<p>A função <code><a href="../reference/theme_ipea.html">theme_ipea()</a></code> aplica às figuras o padrão visual
de gráficos utilizados pelo editorial do Ipea nas publicações de Texto
para Discussão (TD). Ainda, a função traz uma maneira conveniente de
ajustar diversas características das figuras, como por exemplo os eixos,
posição da legenda, escalas dos eixos etc.</p>
<p>The next step is to combine the <strong><em>ipeaplot</em></strong>
package with other data sets to create thematic graphs In this example,
we will be using data from the (Atlas of Human Development (by Ipea/FJP
and UNPD) to create a graphs showing the variation of Life Expectancy at
birth across Brasil country.</p>
<p>Once you’ve downloaded the data, it is really simple to plot maps
using <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Load the 'consumo' dataset from the 'abjData' package</span></span>
<span><span class="va">cons</span> <span class="op">=</span> <span class="fu">abjData</span><span class="fu">::</span><span class="va"><a href="https://abjur.github.io/abjData/reference/consumo.html" class="external-link">consumo</a></span></span>
<span><span class="va">cons</span><span class="op">$</span><span class="va">dec_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">cons</span><span class="op">$</span><span class="va">dec_date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a simple scatter plot with 'dec_date' on the x-axis, 'tempo' on the y-axis, color-coded by 'assunto', and grouped by 'assunto'</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cons</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dec_date</span>, y <span class="op">=</span> <span class="va">tempo</span>, color <span class="op">=</span> <span class="va">assunto</span>, group <span class="op">=</span> <span class="va">assunto</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Use the 'geom_point()' function to add points to the plot</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the x-axis label using 'xlab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Ano'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the y-axis label using 'ylab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Tempo'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the plot title and subtitle using 'ggtitle()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Tempo"</span>, subtitle <span class="op">=</span> <span class="st">"Brasil (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the color legend label using 'labs()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"Assunto"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA theme using 'theme_ipea()'</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Use the 'scale_color_ipea(discrete = T)' function to apply the IPEA discrete color scale</span></span>
<span>  <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span>discrete <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Create a simple scatter plot with 'dec_date' on the x-axis, 'tempo' on the y-axis, color-coded by 'assunto', and grouped by 'assunto'</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cons</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dec_date</span>, y <span class="op">=</span> <span class="va">tempo</span>, color <span class="op">=</span> <span class="va">assunto</span>, group <span class="op">=</span> <span class="va">assunto</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Use the 'geom_point()' function to add points to the plot</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the x-axis label using 'xlab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Ano'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the y-axis label using 'ylab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Tempo'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the plot title and subtitle using 'ggtitle()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Tempo"</span>, subtitle <span class="op">=</span> <span class="st">"Brasil (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA theme using 'theme_ipea()'</span></span>
<span>  <span class="co"># Hide the legend using 'legend.position = "none"'</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Use the 'scale_color_ipea(discrete = T)' function to apply the IPEA discrete color scale</span></span>
<span>  <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span>discrete <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-9-2.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate the mean values of 'espvida' and 'rdpc' grouped by 'ano' using the 'pnud_muni' dataset</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu">abjData</span><span class="fu">::</span><span class="va"><a href="https://abjur.github.io/abjData/reference/pnud_muni.html" class="external-link">pnud_muni</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>espvida <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">espvida</span><span class="op">)</span>,</span>
<span>                   rdpc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">rdpc</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a line plot with 'ano' on the x-axis, 'espvida' on the y-axis, color-coded by 'espvida', and grouped by a single group</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">graph</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">espvida</span>, color <span class="op">=</span> <span class="va">espvida</span>, group <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add a line to the plot using 'geom_line()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add points to the plot using 'geom_point()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the x-axis label using 'xlab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Ano'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the y-axis label using 'ylab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Expectativa de vida'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add a custom text label for 'espvida' using 'insert_text()'</span></span>
<span>  <span class="co">#insert_text(label = "espvida", decimals = 0) +</span></span>
<span>  <span class="co"># Apply a custom format to the y-axis labels using 'scale_y_continuous()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html" class="external-link">label_comma</a></span><span class="op">(</span>decimal.mark <span class="op">=</span> <span class="st">","</span>, big.mark <span class="op">=</span> <span class="st">"."</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the plot title and subtitle using 'ggtitle()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Expectativa de vida"</span>, subtitle <span class="op">=</span> <span class="st">"Brasil (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA continuous color scale using 'scale_color_ipea()'</span></span>
<span>  <span class="fu"><a href="../reference/scale_color_ipea.html">scale_color_ipea</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA theme using 'theme_ipea()'</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate the mean values of 'espvida' and 'rdpc' grouped by 'ano' using the 'pnud_muni' dataset</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu">abjData</span><span class="fu">::</span><span class="va"><a href="https://abjur.github.io/abjData/reference/pnud_muni.html" class="external-link">pnud_muni</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>espvida <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">espvida</span><span class="op">)</span>,</span>
<span>                   rdpc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">rdpc</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a bar plot with 'ano' on the x-axis, 'espvida' on the y-axis, and color-filled by 'espvida'</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">graph</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">espvida</span>, fill <span class="op">=</span> <span class="va">espvida</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add bars to the plot using 'geom_bar(stat = "identity")'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the x-axis label using 'xlab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Ano'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the y-axis label using 'ylab()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Expectativa de vida'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Add a custom text label for 'espvida' using 'insert_text()'</span></span>
<span><span class="co">#  insert_text(label = "espvida", decimals = 0) +</span></span>
<span>  <span class="co"># Apply a custom format to the y-axis labels using 'scale_y_continuous()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html" class="external-link">label_comma</a></span><span class="op">(</span>decimal.mark <span class="op">=</span> <span class="st">","</span>, big.mark <span class="op">=</span> <span class="st">"."</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Set the plot title and subtitle using 'ggtitle()'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Expectativa de vida"</span>, subtitle <span class="op">=</span> <span class="st">"Brasil (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA theme using 'theme_ipea()'</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Apply the IPEA continuous color scale to the fill using 'scale_fill_ipea()'</span></span>
<span>  <span class="fu"><a href="../reference/scale_fill_ipea.html">scale_fill_ipea</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Calculate the mean values of 'espvida' and 'rdpc' grouped by 'regn' and 'ano' using the 'pnud_muni' dataset</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu">abjData</span><span class="fu">::</span><span class="va"><a href="https://abjur.github.io/abjData/reference/pnud_muni.html" class="external-link">pnud_muni</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>regn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">uf</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,  <span class="co"># Extract the first character of 'uf' and assign it to 'regn'</span></span>
<span>         regn <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">regn</span> <span class="op">==</span> <span class="st">"1"</span> <span class="op">~</span> <span class="st">"Norte"</span>,  <span class="co"># Assign region names based on 'regn' values</span></span>
<span>                          <span class="va">regn</span> <span class="op">==</span> <span class="st">"2"</span> <span class="op">~</span> <span class="st">"Nordeste"</span>,</span>
<span>                          <span class="va">regn</span> <span class="op">==</span> <span class="st">"3"</span> <span class="op">~</span> <span class="st">"Sudeste"</span>,</span>
<span>                          <span class="va">regn</span> <span class="op">==</span> <span class="st">"4"</span> <span class="op">~</span> <span class="st">"Sul"</span>,</span>
<span>                          <span class="va">regn</span> <span class="op">==</span> <span class="st">"5"</span> <span class="op">~</span> <span class="st">"Centro Oeste"</span>,</span>
<span>                          <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">regn</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">regn</span>, <span class="va">ano</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>espvida <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">espvida</span><span class="op">)</span>,  <span class="co"># Calculate the mean of 'espvida' within each 'regn' and 'ano'</span></span>
<span>                   rdpc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">rdpc</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Calculate the mean of 'rdpc' within each 'regn' and 'ano'</span></span>
<span></span>
<span><span class="co"># Option for facet title color</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">graph</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">espvida</span>, fill <span class="op">=</span> <span class="va">espvida</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Create a bar plot with 'ano' on x-axis, 'espvida' on y-axis, and 'espvida' for fill</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Set the x-axis label</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Ano'</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Set the y-axis label</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Expectativa de vida'</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co"># Add value labels to the plot</span></span>
<span><span class="co">#  insert_text(label = "espvida", decimals = 0) +  </span></span>
<span>  <span class="co"># Create separate panels for each 'regn'</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="va">regn</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Set the plot title and subtitle</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Expectativa de vida"</span>, subtitle <span class="op">=</span> <span class="st">"Brasil (%)"</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Apply the default IPEA theme</span></span>
<span>  <span class="fu"><a href="../reference/theme_ipea.html">theme_ipea</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Apply the IPEA continuous fill color scale</span></span>
<span>  <span class="fu"><a href="../reference/scale_fill_ipea.html">scale_fill_ipea</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="co"># Set the y-axis limits</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">graph</span><span class="op">$</span><span class="va">espvida</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">graph</span><span class="op">$</span><span class="va">espvida</span><span class="op">)</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span>  </span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-12-1.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="thematic-maps">Thematic maps<a class="anchor" aria-label="anchor" href="#thematic-maps"></a>
</h3>
<p>The next step is to combine the <strong><em>ipeaplot</em></strong>
package with other data sets to create thematic maps. In this example,
we will be using data from the (Atlas of Human Development (by Ipea/FJP
and UNPD) to create a choropleth map using geobr package showing the
spatial variation of Average years of study across Brazilian
municipalities.</p>
<div class="section level5">
<h5 id="merge-external-data">Merge external data<a class="anchor" aria-label="anchor" href="#merge-external-data"></a>
</h5>
<p>First, we need a <code>data.frame</code> with estimates of Life
Expectancy and merge it to our spatial database. The seven-digit of
municipality code is our key column to join these two databases.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load municipality and state spatial data</span></span>
<span><span class="va">mun</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/geobr/man/read_municipality.html" class="external-link">read_municipality</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">uf</span>  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/geobr/man/read_state.html" class="external-link">read_state</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Subset and select specific columns from the 'pnud_muni' dataset</span></span>
<span><span class="va">pnud</span> <span class="op">=</span> <span class="fu">abjData</span><span class="fu">::</span><span class="va"><a href="https://abjur.github.io/abjData/reference/pnud_muni.html" class="external-link">pnud_muni</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Susbet data </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">ano</span> <span class="op">==</span> <span class="fl">2010</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Select columns</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ano</span>, code_muni <span class="op">=</span> <span class="va">codmun7</span>, <span class="va">e_anosestudo</span>, <span class="va">rdpc</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Perform a left join between the 'mun' and 'pnud' data frames</span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">mun</span>, <span class="va">pnud</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="plot-thematic-map">Plot thematic map<a class="anchor" aria-label="anchor" href="#plot-thematic-map"></a>
</h5>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Create a ggplot object 'graf2' using the 'df' dataset, mapping the 'e_anosestudo' variable to the fill aesthetic</span></span>
<span><span class="va">fig2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">e_anosestudo</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">uf</span>, color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Média de anos de estudo"</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="../reference/scale_fill_ipea.html">scale_fill_ipea</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">'Anos de\nestudo'</span><span class="op">)</span>  </span>
<span>          <span class="co"># theme_ipea()</span></span>
<span></span>
<span><span class="va">fig2</span></span></code></pre></div>
<p><img src="intro_ipeaplot_files/figure-html/unnamed-chunk-14-1.png" width="100%" style="display: block; margin: auto;">
## Salvando figura</p>
<p>Finalmente, o pacote <strong>ipeaplot</strong> traz a função
<code><a href="../reference/save_eps.html">save_eps()</a></code> para facilitar a exportação da figura para um
arquivo em formato <code>.eps</code>, um formato de imagem vetorial de
alta resolução.</p>
<p>Basta passar o objeto ggplot da figura que deseja salvar, o nome do
arquivo <code>file.name</code> e as dimensões da figura
<code>width</code> e <code>height</code> em centímetros:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save_eps.html">save_eps</a></span><span class="op">(</span><span class="va">fig2</span>, </span>
<span>         file.name <span class="op">=</span> <span class="st">"figura_2.eps"</span>,</span>
<span>         width <span class="op">=</span> <span class="fl">15</span>,</span>
<span>         height <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pedro Jorge, Pedro Cavalcanti Gonçalves Ferreira, Daniel Lima, Gustavo Coelho, Rafael H. M. Pereira, Lucas Mation.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
