[{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/cookbook.html","id":"instalação","dir":"Articles","previous_headings":"","what":"Instalação","title":"Comparativo ipeaplot","text":"Você pode instalar versão de desenvolvimento ipeaplot github: Leitura de bibliotecas Leitura dos dados Gráfico 1 - Original Gráfico 1 - Padrão ipea  Gráfico 2 - Original Gráfico 2 - Padrão Ipea  Gráfico 3 - Original Gráfico 3 - Padrão Ipea  Gráfico 4 - Padrão Original Gráfico 4 - Padrão Ipea  Gráfico 5 - Original Gráfico 5 - Padrão Ipea  Gráfico 6 - Original Gráfico 6 - Padrão Ipea  Gráfico 7 - Original Gráfico 7 - Padrão Ipea  Gráfico 8 - Original Gráfico 8 - Padrão Ipea  Gráfico 9 - Original Gráfico 9 - Padrão Ipea  Gráfico 10 - Original Gráfico 10 - Padrão Ipea","code":"# Development version utils::remove.packages('ipeaplot') remotes::install_github(\"ipeadata-lab/ipeaplot\") library(ipeaplot) library(ggplot2) library(dplyr) library(abjData) library(geobr) library(reshape) library(knitr) ######## GRAFICO 1 Ano <- factor(c(2000,2005,2010,2015,2020,2025,2030,2035,2040,2045,2050)) Populacao <- c(6.1,6.5,6.9,7.3,7.7,8.0,8.3,8.6,8.9,9.1,9.3) labels <- as.character(Populacao) labels <- gsub(\".\" , \",\" , labels, fixed=T) base_graf1 <- data.frame(Ano,Populacao,labels)  ######## GRAFICO 2 Assunto <- c('Produção Técnica do Ipea','Questões Administrativas',              'Questões de Ouvidoria','Serviços Ipea','Questões Improcedentes') Freq <- c(588,680,434,285,407) percentual <- round(Freq/sum(Freq),2)*100 base_graf2 <- data.frame(Assunto,Freq,percentual)  ####### GRAFICO 3 Ano <- factor(c(1950,   1951,   1952,   1953,   1954,   1955,   1956,   1957,   1958,                    1959,   1960,   1961,   1962,   1963,   1964,   1965,   1966,   1967,                 1968,   1969,   1970,   1971,   1972,   1973,   1974,   1975,   1976,                 1977,   1978,   1979,   1980,   1981,   1982,   1983,   1984,   1985,                 1986,   1987,   1988,   1989,   1990,   1991,   1992,   1993,   1994,                 1995,   1996,   1997,   1998,   1999,   2000,   2001,   2002,   2003,                 2004,   2005,   2006,   2007,   2008,   2009,   2010,   2011,   2012,                 2013,   2014)) Populacao<- c( 1.850116458, 1.791417471,    1.760491225,    1.751060624,                1.757374206, 1.773968217,    1.795950884,    1.81926587,                1.840930397, 1.860403495,    1.879485845,    1.90178203,                1.931384556, 1.96968284 ,    2.011263472,  2.052385316,                2.083875031, 2.098137208,    2.091095193,    2.06831928,                2.043373483, 2.018775478,    1.985792138,    1.944170268,                1.898407101, 1.850171278,    1.807798778,    1.779963926,                1.770930519, 1.77532254 ,    1.778741317,    1.77934085,                 1.787498884, 1.803957627,    1.823106379,    1.844715108,                1.856490979, 1.844087147,    1.801286156,    1.7376904,                1.669804195, 1.607655387,    1.548374095,    1.4949701,                1.447065626, 1.399607643,  1.354384982,  1.318725392,                1.294773864, 1.279786607,    1.268049775,    1.257045807,                1.248951736, 1.243210965,    1.239058923,    1.236026043,                1.23309632,  1.229128787,    1.223387196,    1.215887987,                1.207869122, 1.198749205,    1.186540058,    1.170622969,                1.151783904) labels <- as.character(Populacao) labels <- gsub(\".\" , \",\" , labels, fixed=T) base_graf3<- data.frame(Ano,Populacao, labels)  ######## GRAFICO 4 # Valores Hipoteticos Pais <- factor(c(\"Ìndia\",\"Japão\",\"Alemanha\",\"Reino Unido\",\"França\",                  \"Arábia Saudita\",\"Rússia\",\"China\",\"Estados Unidos\")) Gasto <- c(40,50,50,60,70,40,90,207,640) base_graf4<- data.frame(Pais,Gasto) base_graf4$pos <- ifelse(base_graf4$Pais == 'Estados Unidos',2,1)  library(dplyr) base_graf4 <- base_graf4 %>%   group_by(pos) %>%   mutate(total = sum(Gasto))  ######## GRAFICO 5 Ano <- seq(2009,2020,1) Exabytes <- c(130,360,750,1400,3100,6000,10000,14000,19000,25000,31500,40000)  base_graf5 <- data.frame(Ano,Exabytes)  ######## GRAFICO 6  Ano <- seq(2004,2013,1) Mundo <- c(4.2,3.8,4.1,4,1.5,-2,4,2.9,2.4,2.1) UE <- c(2.6,2.2,3.4,3.2,0.6,-4.6,2.1,1.7,-0.4,0)  base_graf6 <- data.frame(Ano,Mundo,UE) base_graf6<- melt(base_graf6, id=c(\"Ano\"))  ######## GRAFICO 7 pais <- c(\"Áustria\",\"Bélgica\",\"Bulgária\",\"Croácia\",\"Chipre\",\"República Tcheca\",           \"Dinamarca\",\"Estônia\",\"Finlândia\",\"França\",\"Alemanha\",\"Grécia\",           \"Hungria\",\"Irlanda\",\"Itália\",\"Letônia\",\"Lituânia\",\"Luxemburgo\",           \"Malta\",\"Holanda\",\"Polônia\",\"Portugal\",\"România\",           \"Eslováquia\",\"Eslovênia\",\"Espanha\",\"Suécia\",\"Reino Unido\")  petroleo <- c(90,100,97,72,104,96,-37,60,90,97,96,100,               81,102,89,104,90,98,98,97,96,98,52,89,107,96,95,38)  base_graf7 <- data.frame(pais,petroleo)  ######## GRAFICO 8 pais <- c(\"África do Sul\",\"Brasil\",\"Federação Russa\",           \"China\",\"Índia\",\"OCDE\")  final <- c(0.695,0.55,0.43,0.413,0.38,0.315)  inicio <- c(0.67,0.61,0.4,0.33,0.32,0.297)  base_graf8 <- data.frame(pais,final,inicio)  ######## GRAFICO 9 link <- 'https://github.com/ipeadata-lab/ipeaplot/files' base_graf9 <- data.table::fread(paste0(link,'/12239277/dados_grafico9.csv'),                                 dec = \",\", encoding = 'Latin-1')  ######## GRAFICO 10 base_graf10 <- data.table::fread(paste0(link,'/12239278/dados_grafico10.csv'),                                  dec = \",\", encoding = 'Latin-1')  ######## Salvando graficos no formato Rdata save(base_graf1,base_graf2,base_graf3,base_graf5,base_graf6,base_graf7,base_graf8,      base_graf9, base_graf10,      file='bases_de_dados.Rdata') graf1 <- ggplot(data=base_graf1, aes(x=as.numeric(as.character(Ano)), y=Populacao)) +   geom_bar(stat=\"identity\", fill = '#015f96', width=2) +   geom_rug(aes(x = as.numeric(as.character(Ano)) - 2.5),            outside = TRUE, sides = \"b\", length = unit(3, \"mm\"), linewidth = 0.25) +   coord_cartesian(expand = TRUE, clip = \"off\") +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 1\",        subtitle=\"Evolução do crescimento da população mundial 2000-2050 (Em bilhões)\",        caption = 'Fonte: United Nations (2012a).\\nTradução dos autores.') +   theme_ipea(x_breaks = 10,include_ticks = F) +   geom_text(aes(label = gsub(\"\\\\.\", \",\",round(Populacao,1))), hjust = 0.5, vjust = -0.5)  graf1 y.breaks <- cumsum(base_graf2$percentual) - (base_graf2$percentual)/2 y.breaks #> [1] 12.5 39.0 62.0 77.0 91.5  graf2 <- ggplot(base_graf2, aes(x='', y=percentual, fill=Assunto))+   geom_bar(width = 1, stat = \"identity\", color= 'black')+   coord_polar(\"y\", start=0) +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 2\",        subtitle=\"Assuntos das manifestações recebidas pela Ouvidoria do Ipea (2004-2014) (Em %)\",        caption = 'Elaboração dos autores.') +   theme_ipea(legend.position=\"bottom\", axis = 'none', axis_values = F, pie.adjust = 'pie') +   scale_fill_ipea(discrete = T,palette = 'Orange-Blue') +   geom_text(aes(x = 1.6, label = paste0(percentual,\"%\")), position = position_stack(vjust = .5))   graf2 base_graf3$Ano <- as.numeric(as.character(base_graf3$Ano)) ref <- (subset(base_graf3,substr(Ano,4,4) %in% c('5','0')))  graf3 <- ggplot(base_graf3, aes(x=Ano, y=Populacao, group = 1))+   geom_line(color = '#015f96') +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 2\",        subtitle=\"Taxa de crescimento da população mundial (Em %)\",        caption = 'Elaboração dos autores.') +   theme_ipea(x_breaks = 16, x_text_angle = 90, include_ticks = F) +   geom_rug(data = ref, aes(x = Ano+2.5),inherit.aes = FALSE,            outside = TRUE, sides = \"b\", length = unit(5, \"mm\"), linewidth = 0.25) +   coord_cartesian(clip = \"off\")  graf3 temp <- base_graf4 %>% distinct(pos, .keep_all = T) base_graf4 <- base_graf4 %>% group_by(pos) %>% mutate(cum_sum = cumsum(Gasto)) base_graf4$Pais <- forcats::fct_reorder(base_graf4$Pais, desc(base_graf4$Gasto)) base_graf4$cum_sum2 <- ifelse(base_graf4$cum_sum == min(base_graf4$cum_sum) | Pais == 'Estados Unidos',base_graf4$cum_sum/2,(base_graf4$cum_sum+lag(base_graf4$cum_sum,1))/2)   graf4 <- ggplot(base_graf4, aes(x= as.character(pos), y=Gasto, fill=Pais,                                 label = total))+   geom_bar(width = 0.5, stat = \"identity\", color= NA) +   labs(x=\"\",        y=\"Gastos com defesa\",        fill = \"\",        title=\"GRÁFICO 4\",        subtitle=\"Gastos com defesa (Em bilhões de dólares)\",        caption = 'Fonte: Peter G. Peterson Foundation (2013).\\nTradução dos autores.') +   scale_fill_ipea(discrete = T, palette = 'Viridis') +   geom_text(aes(y = cum_sum, label = Pais), color = 'white',  vjust = 1) +   geom_text(data = temp, aes(y = total ,label = paste0(\"U$ \",total)), vjust = -1) +   theme_ipea(legend.position=\"none\")  graf4 graf5 <- ggplot(base_graf5, aes(x=Ano)) +   geom_ribbon(aes(ymin=0, ymax=Exabytes), fill = \"#015f96\")+   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 5\",        subtitle=\"Evolução do volume de informação digital até 2020\",        caption = 'Fonte: IDC’s Digital Universe Study (Gantz e Reinsel, 2012).') +   theme_ipea(legend.position=\"none\",expand_x_limit = F,              x_breaks = 10, y_breaks = 4) graf5 graf6 <- ggplot(base_graf6, aes(Ano, value, group=variable, color=variable))+   geom_line(size=1)+   geom_point(aes(shape=variable, fill = variable),              size=3, stroke=1.5, show.legend = F)+   labs(x=\"\",        y=\"\",        color = \"\",        title=\"GRÁFICO 6\",        subtitle=\"Crescimento anual do PIB da União Europeia (2004-2013) (Em %)\",        caption = 'Fonte: World Bank (2014).\\nTradução dos autores.\\n                   Obs.: Os dados foram coletados no sítio do Banco Mundial.                   Disponível em: <http://goo.gl/IvtZ1a>. Acesso em: 26 set. 2014.') +   theme_ipea(x_breaks = 8, y_breaks = 10, legend.position = 'bottom', expand_x_limit = F) +   scale_color_ipea(palette_direction = -1, discrete = T) +   scale_shape_manual(values = c(19, 21)) +   scale_fill_manual(values = c(NA,\"white\"))  graf6 base_graf7$pais<- factor(base_graf7$pais, levels=rev(sort(base_graf7$pais))) graf7 <- ggplot(data=base_graf7, aes(x=pais, y=petroleo)) +   geom_bar(stat=\"identity\", fill = '#015f96') +   coord_flip() +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 7\",        subtitle=\"Importações de energia em termos do consumo total de energia dos países da União Europeia\",        caption = 'Fonte: Eurostat (2014).\\nTradução dos autores.') +   theme_ipea(legend.position = 'none', expand_x_limit = F) graf7 base_graf8<- melt(base_graf8, id=c(\"pais\"))  graf8 <- ggplot(data=base_graf8, aes(x=pais, y=value, group=variable, fill=variable)) +   geom_bar(position='dodge',stat=\"identity\") +   coord_flip()+   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 8\",        subtitle=\"Mudanças nos níveis de desigualdade do BRICS, calculadas pelo coeficiente Gini, entre o início da década de 1990 e o final da década de 2000\",        caption = '') +   theme_ipea(legend.position = 'bottom') +   scale_fill_ipea(discrete = T) graf8 ######## GRAFICO 9 base_graf9_aux <- base_graf9[,c(1,4)] base_graf9_aux$n <- 1:nrow(base_graf9_aux) base_graf9<- melt(base_graf9[,-4], id=c(\"pais\"))  base_graf9 <- base_graf9 %>%   group_by(variable) %>%   mutate(n = 1:n())  label <- (base_graf9 %>% ungroup() %>% distinct(pais))$pais  graf9 <-   ggplot() +   geom_bar(data=base_graf9, aes(x=n, y=value,                                 group=variable, fill=variable),            stat=\"identity\", width = 0.5) +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 9\",        subtitle=\"Crescimento médio real do PIB em PPC (2011-2050) (Em %)\",        caption = 'Fonte: PwC (2014).\\nTradução dos autores') +   geom_line(data=base_graf9_aux, aes(x=n ,y=`crescimento do PIB (ppc)_perct`, group = 1),             color = 'gray') +   scale_x_continuous(breaks = 1:max(base_graf9$n), labels = label) +   scale_fill_ipea(discrete = T) +   theme_ipea(legend.position = 'bottom', x_text_angle = 90, include_ticks = F) +   geom_rug(data=base_graf9, aes(x = n-0.5),            outside = TRUE, sides = \"b\", length = unit(5, \"mm\"), linewidth = 0.25) +   coord_cartesian(expand = FALSE, clip = \"off\")  graf9 base_graf10 <- base_graf10 %>%   mutate(PIB = as.numeric(PIB),          variacao_PIB = ((PIB/lag(PIB,1)) - 1)*100,          decada = paste0(substr(Data,3,3),\"0\")) %>%   group_by(decada) %>%   mutate(media_variacao = mean(variacao_PIB, na.rm = T)) %>%   filter(Data >= 1950)  text <- base_graf10 %>%   arrange(-Data) %>%   group_by(decada) %>% slice(1)  geom_segment <- base_graf10 %>%   group_by(decada) %>%   filter(Data == min(Data) | Data == max(Data)) %>%   mutate(intervals = ifelse(Data == min(Data),'start_dates','end_dates')) %>%   ungroup() %>%   select(c(Data,intervals,media_variacao)) %>%   tidyr::pivot_wider(names_from = 'intervals', values_from = 'Data')  graf10 <-   ggplot() +   geom_line(data=base_graf10, aes(x = Data, y= variacao_PIB,                                 group=1),             color = '#015f96') +   geom_segment(data = geom_segment,                aes(x = start_dates, xend = end_dates,                    y =media_variacao, yend = media_variacao),                color = 'cyan', linetype = 'dashed')  +   geom_text(data = text, aes(x = Data+2,                              y= media_variacao, label = round(media_variacao,0))) +   labs(x=\"\",        y=\"\",        fill = \"\",        title=\"GRÁFICO 10\",        subtitle=\"Variação anual do PIB) (Em %)\",        caption = 'Fonte: Sistema de Contas Nacionais do IBGE e Ipeadata.\\n                   Elaboração do autor.') +   theme_ipea(legend.position = 'bottom', x_breaks = 10)  graf10"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to ipeaplot","text":"can install development version ipeaplot github:","code":"# Development version utils::remove.packages('ipeaplot') devtools::install_github(\"ipeadata-lab/ipeaplot\")"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"overview-of-the-package","dir":"Articles","previous_headings":"","what":"Overview of the package","title":"Introduction to ipeaplot","text":"ipeaplot package meant used together ggplot2, popular data visualization library R. Currently, ipeaplot includes four main functions help change style figures: theme_ipea() - changes layout figure elements (axis, title, subtitle, fonts etc) following Ipea’s editorial guidelines; scale_color_ipea() - selects color palette range options following Ipea’s editorial guidelines; scale_fill_ipea()- selects color palette range options following Ipea’s editorial guidelines; save_eps() - saves figures .eps file extesion used Ipea’s editing team.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"demonstration-on-sample-data","dir":"Articles","previous_headings":"","what":"Demonstration on sample data","title":"Introduction to ipeaplot","text":"First, let’s load libraries sample data ’ll using demonstrate ipeaplot vignette. first examples , ’ll using mtcats data set R. general example chart used Ipea’s Discussion Papers look like. next sections vignette ’ll explore make changes plot still abiding Ipea’s editorial guidelines.","code":"library(ipeaplot) library(ggplot2) library(dplyr) library(abjData) library(geobr)  # Load mtcars dataset data(mtcats) fig_base <- ggplot() +               geom_point(data = mtcars, aes(x = hp , y = mpg, color = cyl)) +               labs(y='Consumo de Combustível\\n(milhas por galão)',                    x ='Potência (Número de cavalos)',                    color='Cilindradas') +               scale_color_ipea() +               theme_ipea() fig_base"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"paleta-de-cores","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Paleta de cores","title":"Introduction to ipeaplot","text":"Existem duas funções básicas para seleciona paleta de cores da figura: scale_color_ipea() e scale_fill_ipea(). O funcionamento de ambas funções seguem mesma lógica e parâmetros. O parâmetro palette permite escolher uma paleta de cores entre opções de paletas utilizadas pelo editorial Ipea. O padrão da função é paleta \"Blue\", mas o parâmetro pode receber diversas outras opções. Isso incluir tanto paletas c(\"Blue\", \"Green\", \"Orange\", \"Pink\") como paletes de cores divergentes c(\"Red-Blue\", \"Orange-Blue\"). Cores sequenciais: Cores divergentes:   Por padrão, funções scale_color_ipea() e scale_fill_ipea() geram escalas de cores para variáveis contínuas. Para utilizar uma escala de core para variáveis discretas, basta passar o parâmetro discrete = TRUE.  Além de selecionar paleta de cores, funções scale_color_ipea() e scale_fill_ipea() trazem ainda outros parâmetros que permitem escolher o separador de casa decimal (ponto ou vírgula), ajustar o tamanho da legenda etc. lista completa de parâmetros está disponível na documentação da função ?scale_color_ipea().","code":"# paleta sequencial verde fig_base + scale_color_ipea(palette = \"Green\") # paleta divergente de laranja a azul fig_base + scale_color_ipea(palette = \"Orange-Blue\") ggplot() +   geom_point(data = mtcars, aes(x = hp , y = mpg, color = factor(cyl))) +   labs(y='Consumo de Combustível\\n(milhas por galão)',        x ='Potência (Número de cavalos)',        color='Cilindradas') +   scale_color_ipea(palette = \"Orange\", discrete = TRUE ) +   theme_ipea()"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"ajustando-o-theme-das-figuras","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Ajustando o theme das figuras","title":"Introduction to ipeaplot","text":"função theme_ipea() aplica às figuras o padrão visual de gráficos utilizados pelo editorial Ipea nas publicações de Texto para Discussão (TD). Ainda, função traz uma maneira conveniente de ajustar diversas características das figuras, como por exemplo os eixos, posição da legenda, escalas dos eixos etc. next step combine ipeaplot package data sets create thematic graphs example, using data (Atlas Human Development (Ipea/FJP UNPD) create graphs showing variation Life Expectancy birth across Brasil country. ’ve downloaded data, really simple plot maps using ggplot2.","code":"# Load the 'consumo' dataset from the 'abjData' package cons = abjData::consumo cons$dec_date <- as.character(cons$dec_date)  # Create a simple scatter plot with 'dec_date' on the x-axis, 'tempo' on the y-axis, color-coded by 'assunto', and grouped by 'assunto' ggplot(data = cons, aes(x = dec_date, y = tempo, color = assunto, group = assunto)) +   # Use the 'geom_point()' function to add points to the plot   geom_point() +   # Set the x-axis label using 'xlab()'   xlab('Ano') +   # Set the y-axis label using 'ylab()'   ylab('Tempo') +   # Set the plot title and subtitle using 'ggtitle()'   ggtitle(label = \"Tempo\", subtitle = \"Brasil (%)\") +   # Set the color legend label using 'labs()'   labs(color = \"Assunto\") +   # Apply the IPEA theme using 'theme_ipea()'   theme_ipea(legend.position = \"right\") +   # Use the 'scale_color_ipea(discrete = T)' function to apply the IPEA discrete color scale   scale_color_ipea(discrete = T) # Create a simple scatter plot with 'dec_date' on the x-axis, 'tempo' on the y-axis, color-coded by 'assunto', and grouped by 'assunto' ggplot(data = cons, aes(x = dec_date, y = tempo, color = assunto, group = assunto)) +   # Use the 'geom_point()' function to add points to the plot   geom_point() +   # Set the x-axis label using 'xlab()'   xlab('Ano') +   # Set the y-axis label using 'ylab()'   ylab('Tempo') +   # Set the plot title and subtitle using 'ggtitle()'   ggtitle(label = \"Tempo\", subtitle = \"Brasil (%)\") +   # Apply the IPEA theme using 'theme_ipea()'   # Hide the legend using 'legend.position = \"none\"'   theme_ipea(legend.position = \"none\") +   # Use the 'scale_color_ipea(discrete = T)' function to apply the IPEA discrete color scale   scale_color_ipea(discrete = T) # Calculate the mean values of 'espvida' and 'rdpc' grouped by 'ano' using the 'pnud_muni' dataset graph <- abjData::pnud_muni %>%   group_by(ano) %>%   dplyr::summarise(espvida = mean(espvida),                    rdpc = mean(rdpc))  # Create a line plot with 'ano' on the x-axis, 'espvida' on the y-axis, color-coded by 'espvida', and grouped by a single group ggplot(data = graph, aes(x = as.character(ano), y = espvida, color = espvida, group = 1)) +   # Add a line to the plot using 'geom_line()'   geom_line() +   # Add points to the plot using 'geom_point()'   geom_point() +   # Set the x-axis label using 'xlab()'   xlab('Ano') +   # Set the y-axis label using 'ylab()'   ylab('Expectativa de vida') +   # Add a custom text label for 'espvida' using 'insert_text()'   #insert_text(label = \"espvida\", decimals = 0) +   # Apply a custom format to the y-axis labels using 'scale_y_continuous()'   scale_y_continuous(labels = scales::label_comma(decimal.mark = \",\", big.mark = \".\")) +   # Set the plot title and subtitle using 'ggtitle()'   ggtitle(label = \"Expectativa de vida\", subtitle = \"Brasil (%)\") +   # Apply the IPEA continuous color scale using 'scale_color_ipea()'   scale_color_ipea() +   # Apply the IPEA theme using 'theme_ipea()'   theme_ipea(legend.position = \"none\") # Calculate the mean values of 'espvida' and 'rdpc' grouped by 'ano' using the 'pnud_muni' dataset graph <- abjData::pnud_muni %>%   group_by(ano) %>%   dplyr::summarise(espvida = mean(espvida),                    rdpc = mean(rdpc))  # Create a bar plot with 'ano' on the x-axis, 'espvida' on the y-axis, and color-filled by 'espvida' ggplot(data = graph, aes(x = as.character(ano), y = espvida, fill = espvida)) +   # Add bars to the plot using 'geom_bar(stat = \"identity\")'   geom_bar(stat = \"identity\") +   # Set the x-axis label using 'xlab()'   xlab('Ano') +   # Set the y-axis label using 'ylab()'   ylab('Expectativa de vida') +   # Add a custom text label for 'espvida' using 'insert_text()' #  insert_text(label = \"espvida\", decimals = 0) +   # Apply a custom format to the y-axis labels using 'scale_y_continuous()'   scale_y_continuous(labels = scales::label_comma(decimal.mark = \",\", big.mark = \".\")) +   # Set the plot title and subtitle using 'ggtitle()'   ggtitle(label = \"Expectativa de vida\", subtitle = \"Brasil (%)\") +   # Apply the IPEA theme using 'theme_ipea()'   theme_ipea() +   # Apply the IPEA continuous color scale to the fill using 'scale_fill_ipea()'   scale_fill_ipea() # Calculate the mean values of 'espvida' and 'rdpc' grouped by 'regn' and 'ano' using the 'pnud_muni' dataset graph <- abjData::pnud_muni %>%   mutate(regn = substr(uf, 1, 1),  # Extract the first character of 'uf' and assign it to 'regn'          regn = case_when(regn == \"1\" ~ \"Norte\",  # Assign region names based on 'regn' values                           regn == \"2\" ~ \"Nordeste\",                           regn == \"3\" ~ \"Sudeste\",                           regn == \"4\" ~ \"Sul\",                           regn == \"5\" ~ \"Centro Oeste\",                           TRUE ~ regn)) %>%   group_by(regn, ano) %>%   dplyr::summarise(espvida = mean(espvida),  # Calculate the mean of 'espvida' within each 'regn' and 'ano'                    rdpc = mean(rdpc))  # Calculate the mean of 'rdpc' within each 'regn' and 'ano'  # Option for facet title color ggplot(data = graph, aes(x = as.character(ano), y = espvida, fill = espvida)) +   # Create a bar plot with 'ano' on x-axis, 'espvida' on y-axis, and 'espvida' for fill   geom_bar(stat = \"identity\") +     # Set the x-axis label   xlab('Ano') +     # Set the y-axis label   ylab('Expectativa de vida') +    # Add value labels to the plot #  insert_text(label = \"espvida\", decimals = 0) +     # Create separate panels for each 'regn'   facet_wrap(. ~ regn) +     # Set the plot title and subtitle   ggtitle(label = \"Expectativa de vida\", subtitle = \"Brasil (%)\") +     # Apply the default IPEA theme   theme_ipea() +     # Apply the IPEA continuous fill color scale   scale_fill_ipea() +     # Set the y-axis limits   coord_cartesian(ylim = c(min(graph$espvida), max(graph$espvida) + 10))"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"thematic-maps","dir":"Articles","previous_headings":"Demonstration on sample data","what":"Thematic maps","title":"Introduction to ipeaplot","text":"next step combine ipeaplot package data sets create thematic maps. example, using data (Atlas Human Development (Ipea/FJP UNPD) create choropleth map using geobr package showing spatial variation Average years study across Brazilian municipalities.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"merge-external-data","dir":"Articles","previous_headings":"Demonstration on sample data > Thematic maps","what":"Merge external data","title":"Introduction to ipeaplot","text":"First, need data.frame estimates Life Expectancy merge spatial database. seven-digit municipality code key column join two databases.","code":"# Load municipality and state spatial data mun = read_municipality() uf  = read_state()  # Subset and select specific columns from the 'pnud_muni' dataset pnud = abjData::pnud_muni %>%   # Susbet data    subset(ano == 2010) %>%   # Select columns   select(ano, code_muni = codmun7, e_anosestudo, rdpc)  # Perform a left join between the 'mun' and 'pnud' data frames df = left_join(mun, pnud)"},{"path":"https://ipeadata-lab.github.io/ipeaplot/articles/intro_ipeaplot.html","id":"plot-thematic-map","dir":"Articles","previous_headings":"Demonstration on sample data > Thematic maps","what":"Plot thematic map","title":"Introduction to ipeaplot","text":"## Salvando figura Finalmente, o pacote ipeaplot traz função save_eps() para facilitar exportação da figura para um arquivo em formato .eps, um formato de imagem vetorial de alta resolução. Basta passar o objeto ggplot da figura que deseja salvar, o nome arquivo file.name e dimensões da figura width e height em centímetros:","code":"# Create a ggplot object 'graf2' using the 'df' dataset, mapping the 'e_anosestudo' variable to the fill aesthetic fig2 <- ggplot(data = df, aes(fill = e_anosestudo)) +            geom_sf(color = NA) +            geom_sf(data = uf, color = \"black\", fill = NA) +            ggtitle(\"Média de anos de estudo\") +            xlab(\"\") + ylab(\"\") +            scale_fill_ipea(name='Anos de\\nestudo')             # theme_ipea()  fig2 save_eps(fig2,           file.name = \"figura_2.eps\",          width = 15,          height = 15)"},{"path":"https://ipeadata-lab.github.io/ipeaplot/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pedro Jorge. Author, maintainer. Pedro Cavalcanti Gonçalves Ferreira. Author. Daniel Lima. Author. Gustavo Coelho. Author. Rafael H. M. Pereira. Author. Lucas Mation. Author.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jorge P, Ferreira P, Lima D, Coelho G, Pereira R, Mation L (2023). ipeaplot: Ggplot Graphics Ipea Standard. R package version 0.0.1, https://github.com/ipeadata-lab/ipeaplot.","code":"@Manual{,   title = {ipeaplot: Ggplot Graphics in Ipea Standard},   author = {Pedro Jorge and Pedro Cavalcanti Gonçalves Ferreira and Daniel Lima and Gustavo Coelho and Rafael H. M. Pereira and Lucas Mation},   year = {2023},   note = {R package version 0.0.1},   url = {https://github.com/ipeadata-lab/ipeaplot}, }"},{"path":"https://ipeadata-lab.github.io/ipeaplot/index.html","id":"ipeaplot-ggplot-graphics-in-ipea-standard","dir":"","previous_headings":"","what":"Ggplot Graphics in Ipea Standard","title":"Ggplot Graphics in Ipea Standard","text":"ipeaplot creates ggplot graphics following editorial guidelines Institute Applied Economic Research (IPEA). provides users tools functions simplify application consistent color schemes graphic styles, ensuring compliance IPEA’s publication standards.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Ggplot Graphics in Ipea Standard","text":"install Ipeaplot package, can use following code:","code":"# install.packages(\"devtools\") devtools::install_github(\"ipeadata-lab/ipeaplot\")"},{"path":[]},{"path":"https://ipeadata-lab.github.io/ipeaplot/index.html","id":"theme_ipea","dir":"","previous_headings":"Usage","what":"theme_ipea","title":"Ggplot Graphics in Ipea Standard","text":"theme_ipea function allows define graphical attributes axes, fonts, grid, legends according editorial guidelines Ipea. can used follows: theme_ipea function automatically apply graphic settings defined Ipea ggplot-created plot.","code":"library(ipeaplot) library(ggplot2)  data(\"mtcars\") ggplot() +   geom_point(data=mtcars, aes(x=mpg , y=cyl, color=cyl)) +   theme_ipea() +   labs(title = \"Relationship between Fuel Efficiency and Cylinders\",        subtitle = \"Cars from the mtcars dataset\")"},{"path":"https://ipeadata-lab.github.io/ipeaplot/index.html","id":"contribution","dir":"","previous_headings":"","what":"Contribution","title":"Ggplot Graphics in Ipea Standard","text":"encounter problem suggestions improvements ipeaplot package, feel free open issue.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_pal.html","id":null,"dir":"Reference","previous_headings":"","what":"Ipea palette — ipea_pal","title":"Ipea palette — ipea_pal","text":"Ipea palette","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_pal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ipea palette — ipea_pal","text":"","code":"ipea_pal(   palette = c(\"Blue\", \"Green\", \"Orange\", \"Pink\", \"Green-Blue\", \"Red-Blue\", \"Orange-Blue\",     \"Viridis\", \"Inferno\", \"Magma\", \"Plasma\", \"Cividis\"),   alpha = 1,   begin = 0,   end = 1,   palette_direction = 1 )"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_pal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ipea palette — ipea_pal","text":"palette character string indicating color map option use. options available: 'Blue' 'Green' 'Orange' 'Pink' 'Red-Blue' 'Orange-Blue' 'Green-Blue' 'Viridis' 'Inferno' 'Magma' 'Plasma' 'Cividis' alpha alpha transparency number 0 1. begin (corrected) hue number 0 1 color map begins. end (corrected) hue number 0 1 color map ends. palette_direction Sets order colors scale. 1, default, colors ordered darkest lightest. -1, order colors reversed.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_pal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ipea palette — ipea_pal","text":"","code":"scales::show_col(ipea_pal()(10))  scales::show_col(ipea_pal(palette_direction = -1)(6))  scales::show_col(ipea_pal(begin = 0.2, end = 0.8)(4))  scales::show_col(ipea_pal(palette = \"Green\")(6))"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_palette.html","id":null,"dir":"Reference","previous_headings":"","what":"Ipea Color Palette and Scales — ipea_palette","title":"Ipea Color Palette and Scales — ipea_palette","text":"function creates vector n equally spaced colors along selected color map.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_palette.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ipea Color Palette and Scales — ipea_palette","text":"","code":"ipea_palette(   palette = c(\"Blue\", \"Green\", \"Orange\", \"Pink\", \"Green-Blue\", \"Red-Blue\", \"Orange-Blue\",     \"Viridis\", \"Inferno\", \"Magma\", \"Plasma\", \"Cividis\"),   n,   alpha = 1,   begin = 0,   end = 1,   palette_direction = 1 )"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_palette.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ipea Color Palette and Scales — ipea_palette","text":"palette character string indicating color map option use. options available: 'Blue' 'Green' 'Orange' 'Pink' 'Red-Blue' 'Orange-Blue' 'Green-Blue' 'Viridis' 'Inferno' 'Magma' 'Plasma' 'Cividis' n number colors (\\(\\ge 1\\)) used palette. alpha alpha transparency number 0 1. begin (corrected) hue number 0 1 color map begins. end (corrected) hue number 0 1 color map ends. palette_direction Sets order colors scale. 1, default, colors ordered darkest lightest. -1, order colors reversed.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipea_palette.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Ipea Color Palette and Scales — ipea_palette","text":"9-color Ipea palette.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipeaplot.html","id":null,"dir":"Reference","previous_headings":"","what":"ipeaplot: ggplot Graphics in Ipea Standard — ipeaplot","title":"ipeaplot: ggplot Graphics in Ipea Standard — ipeaplot","text":"Convenient functions create ggplot graphics following editorial guidelines  Institute Applied Economic Research - Ipea.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipeaplot.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ipeaplot: ggplot Graphics in Ipea Standard — ipeaplot","text":"Please check vignettes data documentation website.","code":""},{"path":[]},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/ipeaplot.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ipeaplot: ggplot Graphics in Ipea Standard — ipeaplot","text":"Maintainer: Pedro Jorge pedro.alves@ipea.gov.br Authors: Pedro Cavalcanti Gonçalves Ferreira pedro.ferreira2@ipea.gov.br Daniel Lima daniel.viegas@ipea.gov.br Gustavo Coelho gustavo.coelho@ipea.gov.br Rafael H. M. Pereira rafa.pereira.br@gmail.com (ORCID) Lucas Mation lucas.mation@ipea.gov.br","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/save_eps.html","id":null,"dir":"Reference","previous_headings":"","what":"Save the chart in Eps format — save_eps","title":"Save the chart in Eps format — save_eps","text":"Convenient function save charts Eps format.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/save_eps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save the chart in Eps format — save_eps","text":"","code":"save_eps(gplot, file.name)"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/save_eps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save the chart in Eps format — save_eps","text":"gplot ggplot saved. file.name Character. Name file generated","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_color_ipea.html","id":null,"dir":"Reference","previous_headings":"","what":"Scale color IPEA — scale_color_ipea","title":"Scale color IPEA — scale_color_ipea","text":"Generate color palette (continuous discrete) following editorial guidelines used Institute Applied Economic Research - Ipea.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_color_ipea.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scale color IPEA — scale_color_ipea","text":"","code":"scale_color_ipea(   discrete = F,   palette = c(\"Blue\", \"Green\", \"Orange\", \"Pink\", \"Green-Blue\", \"Red-Blue\", \"Green-Blue\",     \"Orange-Blue\", \"Viridis\", \"Inferno\", \"Magma\", \"Plasma\", \"Cividis\"),   palette_direction = 1,   pt_br = T,   barheight,   barwidth,   title.hjust,   label.hjust,   ... )"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_color_ipea.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scale color IPEA — scale_color_ipea","text":"discrete logical value indicating whether use discrete continuous scale bar. default value continuous. palette character vector specifying available palette color palette. default palette \"Blue\", can also change 'Green', 'Orange', 'Pink', 'Red-Blue', 'Orange-Blue', 'Green-Blue', 'Viridis', 'Inferno', 'Magma', 'Plasma', 'Cividis'. palette_direction logical argument specifying ordering colors follow default palette (argument 1) inverted ordering (cases 0). pt_br string indicating whether decimal separator \",\" \".\". default, function uses comma \",\", following format used Brazilian Portuguese. barheight height color gradient bar. parameter used direction set \"horizontal\". barwidth width color gradient bar. parameter used direction set \"horizontal\". title.hjust number specifying horizontal justification title text. label.hjust number specifying vertical justification title text. ... Additional arguments passed scale_fill_gradientn, scale_color_gradientn, scale_fill_distiller scale_color_distiller function ggplot2 package.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_color_ipea.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scale color IPEA — scale_color_ipea","text":"list object added ggplot object change color pallete.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_fill_ipea.html","id":null,"dir":"Reference","previous_headings":"","what":"Scale fill IPEA — scale_fill_ipea","title":"Scale fill IPEA — scale_fill_ipea","text":"Generate fill palette (continuous discrete) formatting texts published Institute Applied Economic Research (IPEA)","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_fill_ipea.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scale fill IPEA — scale_fill_ipea","text":"","code":"scale_fill_ipea(   discrete = F,   palette = c(\"Blue\", \"Green\", \"Orange\", \"Pink\", \"Green-Blue\", \"Red-Blue\", \"Green-Blue\",     \"Orange-Blue\", \"Viridis\", \"Inferno\", \"Magma\", \"Plasma\", \"Cividis\"),   palette_direction = 1,   decimal.mark = \",\",   barheight,   barwidth,   title.hjust,   label.hjust,   ... )"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_fill_ipea.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scale fill IPEA — scale_fill_ipea","text":"discrete logical value indicating whether use discrete continuous scale bar. default value continuous. palette character vector specifying available palette fill palette. default palette \"Blue\", can also change 'Green', 'Orange', 'Pink', 'Red-Blue', 'Orange-Blue','Green-Blue', 'Viridis', 'Inferno', 'Magma', 'Plasma', 'Cividis'. palette_direction logical argument specifying ordering colors follow default palette (argument 1) inverted ordering (cases 0). decimal.mark character used indicate numeric decimal point Character used every 3 digits separate thousands. default, function uses comma \",\", following format used Brazilian Portuguese. barheight height color gradient bar. parameter used direction set \"horizontal\". barwidth width color gradient bar. parameter used direction set \"horizontal\". title.hjust number specifying horizontal justification title text. label.hjust number specifying vertical justification title text. ... Additional arguments passed scale_fill_gradientn, scale_color_gradientn, scale_fill_distiller scale_color_distiller function ggplot2 package","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/scale_fill_ipea.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scale fill IPEA — scale_fill_ipea","text":"list object added ggplot object change color pallete.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/theme_ipea.html","id":null,"dir":"Reference","previous_headings":"","what":"Ggplot theme for Ipea charts and figures — theme_ipea","title":"Ggplot theme for Ipea charts and figures — theme_ipea","text":"Applies custom theme ggplot figures following editorial guidelines used Institute Applied Economic Research - Ipea. function includes standardized formatting options axis lines, text,","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/theme_ipea.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ggplot theme for Ipea charts and figures — theme_ipea","text":"","code":"theme_ipea(   axis_lines = \"half\",   axis_values = T,   pie.adjust = F,   legend.position = \"right\",   grid.adjust = \"horizontal\",   x_breaks,   y_breaks,   expand_x_limit = T,   x_text_angle = 0,   include_ticks = T,   ... )"},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/theme_ipea.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ggplot theme for Ipea charts and figures — theme_ipea","text":"axis_lines character vector specifying axis style. Valid options \"none\" (axis lines), \"full\" (full-length axis lines), \"half\" (half-length axis lines), default. axis_values Logical value indicating whether show text elements. TRUE, axis text displayed black; otherwise, hidden. pie.adjust character vector specifying particularities geom \"pie\". legend.position character vector specifying position legend. Valid options \"right\" (default), \"left\", \"top\", \"bottom\". grid.adjust Defines whether grid lines \"horizontal\" (default) \"vertical\". x_breaks Numeric. number breaks x-axis y_breaks Numeric. number breaks y-axis expand_x_limit Logical value indicates whether x-axis boundary expanded. TRUE, x-axis text expanded; otherwise change. x_text_angle Numeric. Angle degrees text x-axis. include_ticks Logical. Whether include ticks. Defaults TRUE. ... Additional arguments passed theme function ggplot2 package.","code":""},{"path":"https://ipeadata-lab.github.io/ipeaplot/reference/theme_ipea.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ggplot theme for Ipea charts and figures — theme_ipea","text":"custom theme IPEA graphics.","code":""}]
