---
title: "Comparativo ipeaplot"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
urlcolor: blue
vignette: >
  %\VignetteIndexEntry{Introduction to ipeaplot}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  eval = identical(tolower(Sys.getenv("NOT_CRAN")), "true"),
  out.width = "100%"
)
```


O [**ipeaplot**](https://github.com/ipea-datalab/ipeaplot) é um pacote computacional desenvolvido para facilitar a padronização de cores e formatação gráfica para submissões de textos para discussão (TD) e artigos para a revista do Instituto de Pesquisa Econômica Aplicada (IPEA). Este pacote fornece aos usuários ferramentas e funções que simplificam o processo de aplicação de esquemas de cores e estilos gráficos consistentes em seu trabalho, garantindo a conformidade com os requisitos e diretrizes da revista IPEA. Ao usar o **ipeaplot**, os usuários podem facilmente obter envios de texto visualmente atraentes e formatados profissionalmente para o IPEA. (veja informações detalhadas abaixo).. Esta vinheta apresenta uma introdução rápida ao **ipeaplot**.


## Instalação

Você pode instalar a versão de desenvolvimento do ipeaplot no github:

```{r eval=FALSE, message=FALSE, warning=FALSE}
# Development version
utils::remove.packages('ipeaplot')
devtools::install_github("ipea-datalab/ipeaplot")

```

Leitura de bibliotecas

```{r eval=TRUE, message=FALSE, warning=FALSE, results='hide'}
library(ipeaplot)
library(ggplot2)
library(dplyr)
library(abjData)
library(geobr)
library(reshape)
```



Leitura dos dados
```{r eval=TRUE, message=FALSE, warning=FALSE}
######## GRAFICO 1
Ano <- factor(c(2000,2005,2010,2015,2020,2025,2030,2035,2040,2045,2050))
Populacao <- c(6.1,6.5,6.9,7.3,7.7,8.0,8.3,8.6,8.9,9.1,9.3)
labels <- as.character(Populacao)
labels <- gsub("." , "," , labels, fixed=T)
base_graf1 <- data.frame(Ano,Populacao,labels)

######## GRAFICO 2
Assunto <- c('Produção Técnica do Ipea','Questões Administrativas',
             'Questões de Ouvidoria','Serviços Ipea','Questões Improcedentes')
Freq <- c(588,680,434,285,407)
percentual <- round(Freq/sum(Freq),2)*100
base_graf2 <- data.frame(Assunto,Freq,percentual)

####### GRAFICO 3
Ano <- factor(c(1950,	1951,	1952,	1953,	1954,	1955,	1956,	1957,	1958,	1959,	1960,	1961,	1962,	1963,	1964,	1965,	1966,	1967,	1968,	1969,	1970,	1971,	1972,	1973,	1974,	1975,	1976,	1977,	1978,	1979,	1980,	1981,	1982,	1983,	1984,	1985,	1986,	1987,	1988,	1989,	1990,	1991,	1992,	1993,	1994,	1995,	1996,	1997,	1998,	1999,	2000,	2001,	2002,	2003,	2004,	2005,	2006,	2007,	2008,	2009,	2010,	2011,	2012,	2013,	2014))
Populacao<- c( 1.850116458,	1.791417471,	1.760491225,	1.751060624,	1.757374206,	1.773968217,	1.795950884,	1.81926587,	1.840930397,	1.860403495,	1.879485845,	1.90178203,	1.931384556,	1.96968284,	2.011263472, 2.052385316,	2.083875031,	2.098137208,	2.091095193,	2.06831928,	2.043373483,	2.018775478,	1.985792138,	1.944170268,	1.898407101,	1.850171278,	1.807798778,	1.779963926,	1.770930519,	1.77532254,	1.778741317,	1.77934085,	1.787498884,	1.803957627,	1.823106379,	1.844715108,	1.856490979,	1.844087147,	1.801286156,	1.7376904,	1.669804195,	1.607655387,	1.548374095,	1.4949701,	1.447065626,	1.399607643, 1.354384982,	1.318725392,	1.294773864,	1.279786607,	1.268049775,	1.257045807,	1.248951736,	1.243210965,	1.239058923,	1.236026043,	1.23309632,	1.229128787,	1.223387196,	1.215887987,	1.207869122,	1.198749205,	1.186540058,	1.170622969,	1.151783904)
labels <- as.character(Populacao)
labels <- gsub("." , "," , labels, fixed=T)
base_graf3<- data.frame(Ano,Populacao, labels)

######## GRAFICO 4
# Valores Hipoteticos
Pais <- factor(c("Ìndia","Japão","Alemanha","Reino Unido","França",
                 "Arábia Saudita","Rússia","China","Estados Unidos"))
Gasto <- c(40,50,50,60,70,40,90,207,640)
base_graf4<- data.frame(Pais,Gasto)
base_graf4$pos <- ifelse(base_graf4$Pais == 'Estados Unidos',2,1)

library(dplyr)
base_graf4 <- base_graf4 %>%
  group_by(pos) %>%
  mutate(total = sum(Gasto))

######## GRAFICO 5
Ano <- seq(2009,2020,1)
Exabytes <- c(130,360,750,1400,3100,6000,10000,14000,19000,25000,31500,40000)

base_graf5 <- data.frame(Ano,Exabytes)

######## GRAFICO 6

Ano <- seq(2004,2013,1)
Mundo <- c(4.2,3.8,4.1,4,1.5,-2,4,2.9,2.4,2.1)
UE <- c(2.6,2.2,3.4,3.2,0.6,-4.6,2.1,1.7,-0.4,0)

base_graf6 <- data.frame(Ano,Mundo,UE)
base_graf6<- melt(base_graf6, id=c("Ano"))

######## GRAFICO 7
pais <- c("Áustria","Bélgica","Bulgária","Croácia","Chipre","República Tcheca","Dinamarca",
          "Estônia","Finlândia","França","Alemanha","Grécia","Hungria","Irlanda","Itália",
          "Letônia","Lituânia","Luxemburgo","Malta","Holanda","Polônia","Portugal","România",
          "Eslováquia","Eslovênia","Espanha","Suécia","Reino Unido")

petroleo <- c(90,100,97,72,104,96,-37,60,90,97,96,100,
              81,102,89,104,90,98,98,97,96,98,52,89,107,96,95,38)

base_graf7 <- data.frame(pais,petroleo)

######## GRAFICO 8
pais <- c("África do Sul","Brasil","Federação Russa",
          "China","Índia","OCDE")

final <- c(0.695,0.55,0.43,0.413,0.38,0.315)

inicio <- c(0.67,0.61,0.4,0.33,0.32,0.297)

base_graf8 <- data.frame(pais,final,inicio)

######## GRAFICO 9
base_graf9 <- data.table::fread('https://github.com/ipeadata-lab/ipeaplot/files/12239277/dados_grafico9.csv', dec = ",", encoding = 'Latin-1')

######## GRAFICO 10
base_graf10 <- data.table::fread('https://github.com/ipeadata-lab/ipeaplot/files/12239278/dados_grafico10.csv', dec = ",", encoding = 'Latin-1')

######## Salvando graficos no formato Rdata
save(base_graf1,base_graf2,base_graf3,base_graf5,base_graf6,base_graf7,base_graf8,base_graf9, base_graf10,
     file='bases_de_dados.Rdata')

```




Gráfico 1 - Original
```{r}
knitr::include_graphics("https://github.com/ipeadata-lab/ipeaplot/blob/master/tests/compara_editorial/prints%20ipea%20plot/grafico%201.png")
```
